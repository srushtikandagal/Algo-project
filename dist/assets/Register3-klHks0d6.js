import{ab as d,w as H,Y as A,E as _,e as p,$ as O,j as e,G as t,a0 as v,J as f,x as u,H as y,T as l,U as I,a4 as g,a1 as w,a2 as R,a3 as P,a5 as V,a6 as J,a8 as Q,a7 as U,aa as Y}from"./index-CJnL4WwT.js";import{u as Z,a as K,G as X,F as ee,c as te,b as j,d as re,e as se,C as ne,f as ae,A as ie,g as oe}from"./use-snackbar-DcWQZBLY.js";const le=s=>new RegExp(/[0-9]/).test(s),ce=s=>new RegExp(/[a-z]/).test(s)&&new RegExp(/[A-Z]/).test(s),de=s=>new RegExp(/[!#@$%^&*)(+=._-]/).test(s),ue=s=>s<2?{label:"Poor",color:d.errorMain}:s<3?{label:"Weak",color:d.warningDark}:s<4?{label:"Normal",color:d.orangeMain}:s<5?{label:"Good",color:d.successMain}:s<6?{label:"Strong",color:d.successDark}:{label:"Poor",color:d.errorMain},me=s=>{let n=0;return s.length>5&&(n+=1),s.length>7&&(n+=1),le(s)&&(n+=1),de(s)&&(n+=1),ce(s)&&(n+=1),n},xe=({...s})=>{const n=H(),N=A(n.breakpoints.down("md")),F=_(r=>r.customization),[b,E]=p.useState(!1),[C,M]=p.useState(!0),[W,z]=p.useState(0),[c,B]=p.useState(),{showSnackbar:S,SnackbarComponent:D}=Z(),q=O(),G=K({mutationFn:async r=>(await ae.post("http://jetalgosoftware.com/api/auth/signup",r,{headers:{"Content-Type":"application/json"}})).data,onSuccess:()=>{S("Registration successful!","success"),q("/login")},onError:r=>{var a,i;S(((i=(a=r.response)==null?void 0:a.data)==null?void 0:i.message)||"Registration failed. Please try again.","error")}}),$=()=>{E(!b)},T=r=>{r.preventDefault()},L=r=>{const a=me(r);z(a),B(ue(a))};return e.jsxs(e.Fragment,{children:[e.jsxs(t,{container:!0,direction:"column",justifyContent:"center",spacing:2,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(v,{children:e.jsxs(f,{variant:"outlined",fullWidth:!0,onClick:()=>console.error("Register"),size:"large",sx:{color:"grey.700",backgroundColor:n.palette.grey[50],borderColor:n.palette.grey[100]},children:[e.jsx(u,{sx:{mr:{xs:1,sm:2,width:20}},children:e.jsx("img",{src:X,alt:"google",width:16,height:16,style:{marginRight:N?8:16}})}),"Sign up with Google"]})})}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(u,{sx:{alignItems:"center",display:"flex"},children:[e.jsx(y,{sx:{flexGrow:1},orientation:"horizontal"}),e.jsx(f,{variant:"outlined",sx:{cursor:"unset",m:2,py:.5,px:7,borderColor:`${n.palette.grey[100]} !important`,color:`${n.palette.grey[900]}!important`,fontWeight:500,borderRadius:`${F.borderRadius}px`},disableRipple:!0,disabled:!0,children:"OR"}),e.jsx(y,{sx:{flexGrow:1},orientation:"horizontal"})]})}),e.jsx(t,{item:!0,xs:12,container:!0,alignItems:"center",justifyContent:"center",children:e.jsx(u,{sx:{mb:2},children:e.jsx(l,{variant:"subtitle1",children:"Sign up with Email address"})})})]}),e.jsx(ee,{initialValues:{firstName:"",lastName:"",phoneNumber:"",password:"",submit:null},validationSchema:te().shape({firstName:j().max(255).required("First Name is required"),lastName:j().max(255).required("Last Name is required"),phoneNumber:j().required("Phone Number is required"),password:j().max(255).required("Password is required")}),onSubmit:async(r,{setStatus:a,setSubmitting:i})=>{var m,x;try{await G.mutateAsync({firstName:r.firstName,lastName:r.lastName,mobile:r.phoneNumber,password:r.password})}catch(o){console.log("error on signup",(x=(m=o.response)==null?void 0:m.data)==null?void 0:x.message),a({success:!1})}finally{i(!1)}},children:({errors:r,handleBlur:a,handleChange:i,handleSubmit:m,isSubmitting:x,touched:o,values:h})=>e.jsxs("form",{noValidate:!0,onSubmit:m,...s,children:[e.jsxs(t,{container:!0,spacing:N?0:2,children:[e.jsxs(t,{item:!0,xs:12,sm:6,children:[e.jsx(I,{fullWidth:!0,label:"First Name",margin:"normal",name:"firstName",type:"text",onBlur:a,onChange:i,value:h.firstName,sx:{...n.typography.customInput}}),o.firstName&&r.firstName&&e.jsx(g,{error:!0,children:r.firstName})]}),e.jsxs(t,{item:!0,xs:12,sm:6,children:[e.jsx(I,{fullWidth:!0,label:"Last Name",margin:"normal",name:"lastName",type:"text",onBlur:a,onChange:i,value:h.lastName,sx:{...n.typography.customInput}}),o.lastName&&r.lastName&&e.jsx(g,{error:!0,children:r.lastName})]})]}),e.jsxs(w,{fullWidth:!0,error:!!(o.phoneNumber&&r.phoneNumber),sx:{...n.typography.customInput},children:[e.jsx(R,{htmlFor:"outlined-adornment-phone-register",children:"Phone Number"}),e.jsx(P,{id:"outlined-adornment-phone-register",type:"text",value:h.phoneNumber,name:"phoneNumber",onBlur:a,onChange:i,label:"Phone Number"}),o.phoneNumber&&r.phoneNumber&&e.jsx(g,{error:!0,children:r.phoneNumber})]}),e.jsxs(w,{fullWidth:!0,error:!!(o.password&&r.password),sx:{...n.typography.customInput},children:[e.jsx(R,{htmlFor:"outlined-adornment-password-register",children:"Password"}),e.jsx(P,{id:"outlined-adornment-password-register",type:b?"text":"password",value:h.password,name:"password",onBlur:a,onChange:k=>{i(k),L(k.target.value)},label:"Password",endAdornment:e.jsx(V,{position:"end",children:e.jsx(J,{"aria-label":"toggle password visibility",onClick:$,onMouseDown:T,edge:"end",size:"large",children:b?e.jsx(re,{}):e.jsx(se,{})})})}),o.password&&r.password&&e.jsx(g,{error:!0,children:r.password})]}),W!==0&&e.jsx(w,{fullWidth:!0,children:e.jsx(u,{sx:{mb:2},children:e.jsxs(t,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(t,{item:!0,children:e.jsx(u,{style:{backgroundColor:c==null?void 0:c.color},sx:{width:85,height:8,borderRadius:"7px"}})}),e.jsx(t,{item:!0,children:e.jsx(l,{variant:"subtitle1",fontSize:"0.75rem",children:c==null?void 0:c.label})})]})})}),e.jsxs(t,{container:!0,alignItems:"center",justifyContent:"space-between",spacing:2,children:[e.jsx(t,{item:!0,children:e.jsx(Q,{control:e.jsx(ne,{checked:C,onChange:()=>M(!C)}),label:e.jsx(l,{variant:"body2",children:"I agree to the terms and conditions"})})}),e.jsx(t,{item:!0,children:e.jsx(v,{children:e.jsx(f,{disableElevation:!0,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",disabled:x,children:"Register"})})})]})]})}),e.jsx(D,{})]})},ge=()=>{const s=A(n=>n.breakpoints.down("md"));return e.jsx(ie,{children:e.jsx(t,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:e.jsx(t,{item:!0,xs:12,children:e.jsx(t,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:e.jsx(t,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:e.jsx(oe,{children:e.jsxs(t,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[e.jsx(t,{item:!0,sx:{mb:3},children:e.jsx(l,{color:"secondary.main",gutterBottom:!0,variant:s?"h3":"h2",children:"Algo Trading"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(t,{container:!0,direction:{xs:"column-reverse",md:"row"},alignItems:"center",justifyContent:"center",children:e.jsx(t,{item:!0,children:e.jsxs(U,{alignItems:"center",justifyContent:"center",spacing:1,children:[e.jsx(l,{color:"secondary.main",gutterBottom:!0,variant:s?"h3":"h2",children:"Sign up"}),e.jsx(l,{variant:"caption",fontSize:"16px",textAlign:{xs:"center",md:"inherit"},children:"Enter your credentials to continue"})]})})})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(xe,{})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(y,{})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(t,{item:!0,container:!0,direction:"column",alignItems:"center",xs:12,children:e.jsx(l,{component:Y,to:"/pages/login/login3",variant:"subtitle1",sx:{textDecoration:"none"},children:"Already have an account?"})})})]})})})})})})})};export{ge as default};
